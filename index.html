<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>WebinoDev by webino</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>WebinoDev</h1>
        <p>Webino developer&#39;s module for Zend Framework 2</p>
        <p class="view"><a href="https://github.com/webino/WebinoDev">View the Project on GitHub <small>webino/WebinoDev</small></a></p>
        <ul>
          <li><a href="https://github.com/webino/WebinoDev/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/webino/WebinoDev/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/webino/WebinoDev">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a id="webino-developers-module--for-zend-framework-2" class="anchor" href="#webino-developers-module--for-zend-framework-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Webino developer's module <br> for Zend Framework 2</h1>

<p>Module to ease development of the Webino modules.</p>

<h2>
<a id="features" class="anchor" href="#features" aria-hidden="true"><span class="octicon octicon-link"></span></a>Features</h2>

<ul>
<li>Utility functions</li>
<li>Smart dependency injection definition generator</li>
<li>DOM testing</li>
<li>Mail testing</li>
<li>Selenium abstract tests testing</li>
<li>Base classes for Selenium WebDriver tests

<ul>
<li>Authentication testing</li>
<li>Forms testing</li>
<li>Ajax testing</li>
</ul>
</li>
</ul>

<h2>
<a id="requirements" class="anchor" href="#requirements" aria-hidden="true"><span class="octicon octicon-link"></span></a>Requirements</h2>

<ul>
<li>PHP 5.4</li>
<li>ZendFramework 2</li>
</ul>

<h2>
<a id="setup" class="anchor" href="#setup" aria-hidden="true"><span class="octicon octicon-link"></span></a>Setup</h2>

<p>Open terminal and go to your application directory</p>

<ol>
<li>Use this module only in your development environment</li>
<li>Run <code>php composer.phar require webino/webino-dev:dev-develop</code>
</li>
<li>Add <code>WebinoDev</code> to the enabled modules list <br>
<em>NOTE: Considering a zf2-skeleton or very similar application.</em>
</li>
</ol>

<h2>
<a id="quickstart" class="anchor" href="#quickstart" aria-hidden="true"><span class="octicon octicon-link"></span></a>QuickStart</h2>

<h3>
<a id="utility-functions" class="anchor" href="#utility-functions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Utility functions</h3>

<div class="highlight highlight-php"><pre><span class="pl-s2">d();  <span class="pl-c">// var_dump();</span></span>
<span class="pl-s2">dd(); <span class="pl-c">// var_dump();exit;</span></span>
<span class="pl-s2">p();  <span class="pl-c">// print_r();</span></span>
<span class="pl-s2">pd(); <span class="pl-c">// print_r();exit;</span></span>
<span class="pl-s2">pr(); <span class="pl-c">// return print_r();</span></span>
<span class="pl-s2">e();  <span class="pl-c">// throw new \WebinoDev\Exception\DevelopmentException;</span></span></pre></div>

<h3>
<a id="dependency-injection-definition-generator" class="anchor" href="#dependency-injection-definition-generator" aria-hidden="true"><span class="octicon octicon-link"></span></a>Dependency injection definition generator</h3>

<p>Create file <code>bin/definition_generator</code> in your module, with following code:</p>

<div class="highlight highlight-php"><pre><span class="pl-s2"><span class="pl-c">#!/usr/bin/env php</span></span>
<span class="pl-s2"><span class="pl-k">&lt;</span>?<span class="pl-c1">php</span></span>
<span class="pl-s2"></span>
<span class="pl-s2"><span class="pl-k">namespace</span> <span class="pl-en">WebinoExample</span>;</span>
<span class="pl-s2"></span>
<span class="pl-s2"><span class="pl-k">use</span> <span class="pl-s3">WebinoDev\Di\Definition\Generator</span>;</span>
<span class="pl-s2"></span>
<span class="pl-s2"><span class="pl-c">// Autoloader</span></span>
<span class="pl-s2"><span class="pl-vo">$loader</span> <span class="pl-k">=</span> <span class="pl-k">require</span> <span class="pl-c1">__DIR__</span> <span class="pl-k">.</span> <span class="pl-s1"><span class="pl-pds">'</span>/../vendor/autoload.php<span class="pl-pds">'</span></span>;</span>
<span class="pl-s2"><span class="pl-vo">$loader</span><span class="pl-k">-&gt;</span>add(<span class="pl-c1">__NAMESPACE__</span>, <span class="pl-c1">__DIR__</span> <span class="pl-k">.</span> <span class="pl-s1"><span class="pl-pds">'</span>/../src<span class="pl-pds">'</span></span>);</span>
<span class="pl-s2"></span>
<span class="pl-s2"><span class="pl-c">// Dump DI definition</span></span>
<span class="pl-s2">(<span class="pl-k">new</span> <span class="pl-s3">Generator</span>(<span class="pl-c1">__DIR__</span>))<span class="pl-k">-&gt;</span>compile()<span class="pl-k">-&gt;</span>dump();</span></pre></div>

<p><em>NOTE: Assuming <code>WebinoExample/bin/</code> and <code>WebinoExample/vendor/</code> directories.</em> <br>
<em>NOTE: Use your namespace instead of WebinoExample.</em></p>

<p>With custom paths, relative to vendor directory:</p>

<div class="highlight highlight-php"><pre><span class="pl-s2">(<span class="pl-k">new</span> <span class="pl-s3">Generator</span>(<span class="pl-c1">__DIR__</span>))<span class="pl-k">-&gt;</span>compile([<span class="pl-s1"><span class="pl-pds">'</span>custom/path/1<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>custom/path/2<span class="pl-pds">'</span></span>])<span class="pl-k">-&gt;</span>dump();</span></pre></div>

<p>With ignored paths:</p>

<div class="highlight highlight-php"><pre><span class="pl-s2">(<span class="pl-k">new</span> <span class="pl-s3">Generator</span>(<span class="pl-c1">__DIR__</span>))<span class="pl-k">-&gt;</span>setIgnore([<span class="pl-s1"><span class="pl-pds">'</span>regex1<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>regex2<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>etc.<span class="pl-pds">'</span></span>])<span class="pl-k">-&gt;</span>compile()<span class="pl-k">-&gt;</span>dump();</span></pre></div>

<h3>
<a id="selenium-webdriver-tests" class="anchor" href="#selenium-webdriver-tests" aria-hidden="true"><span class="octicon octicon-link"></span></a>Selenium WebDriver tests</h3>

<div class="highlight highlight-php"><pre><span class="pl-s2"><span class="pl-k">use</span> <span class="pl-s3">WebinoDev\Test\Selenium\AbstractTestCase</span>;</span>
<span class="pl-s2"></span>
<span class="pl-s2"><span class="pl-st">class</span> <span class="pl-en">HomeTest</span> <span class="pl-s">extends</span> <span class="pl-e">AbstractTestCase</span></span>
<span class="pl-s2">{</span>
<span class="pl-s2">    <span class="pl-s">public</span> <span class="pl-st">function</span> <span class="pl-en">testHome</span>()</span>
<span class="pl-s2">    {</span>
<span class="pl-s2">        <span class="pl-vo">$this</span><span class="pl-k">-&gt;</span>openOk(<span class="pl-s1"><span class="pl-pds">'</span>page/path<span class="pl-pds">'</span></span>);</span>
<span class="pl-s2"></span>
<span class="pl-s2">        <span class="pl-vo">$this</span><span class="pl-k">-&gt;</span>clickLink(<span class="pl-s1"><span class="pl-pds">'</span>Link example<span class="pl-pds">'</span></span>);</span>
<span class="pl-s2"></span>
<span class="pl-s2">        <span class="pl-c">/**</span></span>
<span class="pl-s2"><span class="pl-c">         * Use following methods to get a page element</span></span>
<span class="pl-s2"><span class="pl-c">         *</span></span>
<span class="pl-s2"><span class="pl-c">         * It's possible to use $this-&gt;elementsBy... to get array of elements also.</span></span>
<span class="pl-s2"><span class="pl-c">         */</span></span>
<span class="pl-s2">        <span class="pl-vo">$this</span><span class="pl-k">-&gt;</span>elementByClassName(<span class="pl-s1"><span class="pl-pds">'</span>class-name<span class="pl-pds">'</span></span>);</span>
<span class="pl-s2"></span>
<span class="pl-s2">        <span class="pl-vo">$this</span><span class="pl-k">-&gt;</span>elementByCssSelector(<span class="pl-s1"><span class="pl-pds">'</span>.class-name tagname<span class="pl-pds">'</span></span>);</span>
<span class="pl-s2"></span>
<span class="pl-s2">        <span class="pl-vo">$this</span><span class="pl-k">-&gt;</span>elementById(<span class="pl-s1"><span class="pl-pds">'</span>test-id<span class="pl-pds">'</span></span>);</span>
<span class="pl-s2"></span>
<span class="pl-s2">        <span class="pl-vo">$this</span><span class="pl-k">-&gt;</span>elementByLinkText(<span class="pl-s1"><span class="pl-pds">'</span>Test link<span class="pl-pds">'</span></span>);</span>
<span class="pl-s2"></span>
<span class="pl-s2">        <span class="pl-vo">$this</span><span class="pl-k">-&gt;</span>elementByName(<span class="pl-s1"><span class="pl-pds">'</span>test_name<span class="pl-pds">'</span></span>);</span>
<span class="pl-s2"></span>
<span class="pl-s2">        <span class="pl-vo">$this</span><span class="pl-k">-&gt;</span>elementByPartialLinkText(<span class="pl-s1"><span class="pl-pds">'</span>Link text too long<span class="pl-pds">'</span></span>);</span>
<span class="pl-s2"></span>
<span class="pl-s2">        <span class="pl-vo">$this</span><span class="pl-k">-&gt;</span>elementByTagName(<span class="pl-s1"><span class="pl-pds">'</span>tagname);</span></span>
<span class="pl-s2"><span class="pl-s1"></span></span>
<span class="pl-s2"><span class="pl-s1">        $this-&gt;elementByXpath(<span class="pl-pds">'</span></span><span class="pl-c">//test/xpath');</span></span>
<span class="pl-s2">    }</span>
<span class="pl-s2">}</span></pre></div>

<h4>
<a id="testing-dom" class="anchor" href="#testing-dom" aria-hidden="true"><span class="octicon octicon-link"></span></a>Testing DOM</h4>

<div class="highlight highlight-php"><pre><span class="pl-s2"><span class="pl-k">use</span> <span class="pl-s3">WebinoDev\Test\DomTrait</span>;</span>
<span class="pl-s2"></span>
<span class="pl-s2"><span class="pl-c">/**</span></span>
<span class="pl-s2"><span class="pl-c"> * Concrete test trait</span></span>
<span class="pl-s2"><span class="pl-c"> */</span></span>
<span class="pl-s2"><span class="pl-st">class</span> <span class="pl-en">DomTestCase</span> <span class="pl-s">extends</span> <span class="pl-s3">\</span><span class="pl-e">PHPUnit_Framework_TestCase</span></span>
<span class="pl-s2">{</span>
<span class="pl-s2">    <span class="pl-k">use</span> <span class="pl-s3">DomTrait</span>;</span>
<span class="pl-s2"></span>
<span class="pl-s2">    <span class="pl-s">public</span> <span class="pl-st">function</span> <span class="pl-en">testDom</span>()</span>
<span class="pl-s2">    {</span>
<span class="pl-s2">        <span class="pl-vo">$xhtml</span> <span class="pl-k">=</span> <span class="pl-s1"><span class="pl-pds">'</span>&lt;html/&gt;<span class="pl-pds">'</span></span>;</span>
<span class="pl-s2">        <span class="pl-vo">$dom</span>   <span class="pl-k">=</span> <span class="pl-vo">$this</span><span class="pl-k">-&gt;</span>createDom(<span class="pl-vo">$xhtml</span>);</span>
<span class="pl-s2">        <span class="pl-vo">$elm</span>   <span class="pl-k">=</span> <span class="pl-vo">$dom</span><span class="pl-k">-&gt;</span><span class="pl-vo">xpath</span><span class="pl-k">-&gt;</span>query(<span class="pl-s1"><span class="pl-pds">'</span>//html<span class="pl-pds">'</span></span>)<span class="pl-k">-&gt;</span>item(<span class="pl-c1">0</span>);</span>
<span class="pl-s2">        <span class="pl-vo">$this</span><span class="pl-k">-&gt;</span>assertNotNull(<span class="pl-vo">$elm</span>);</span>
<span class="pl-s2">    }</span>
<span class="pl-s2">}</span></pre></div>

<h4>
<a id="testing-authentication" class="anchor" href="#testing-authentication" aria-hidden="true"><span class="octicon octicon-link"></span></a>Testing authentication</h4>

<div class="highlight highlight-php"><pre><span class="pl-s2"><span class="pl-k">use</span> <span class="pl-s3">WebinoDev\Test\Selenium\AbstractAuthenticationTestCase</span>;</span>
<span class="pl-s2"></span>
<span class="pl-s2"><span class="pl-st">class</span> <span class="pl-en">AuthenticationTest</span> <span class="pl-s">extends</span> <span class="pl-e">AbstractAuthenticationTestCase</span></span>
<span class="pl-s2">{</span>
<span class="pl-s2">    <span class="pl-s">public</span> <span class="pl-st">function</span> <span class="pl-en">testAuthentication</span>()</span>
<span class="pl-s2">    {</span>
<span class="pl-s2">        <span class="pl-vo">$this</span><span class="pl-k">-&gt;</span>openOk();</span>
<span class="pl-s2">        <span class="pl-vo">$this</span><span class="pl-k">-&gt;</span>setAuthSuccessLocator(<span class="pl-s1"><span class="pl-pds">'</span>.authentication-success<span class="pl-pds">'</span></span>);</span>
<span class="pl-s2">        <span class="pl-vo">$this</span><span class="pl-k">-&gt;</span>authenticate();</span>
<span class="pl-s2">    }</span>
<span class="pl-s2">}</span></pre></div>

<p><strong>or use trait</strong></p>

<div class="highlight highlight-php"><pre><span class="pl-s2"><span class="pl-k">use</span> <span class="pl-s3">WebinoDev\Test\Selenium\AbstractTestCase</span>;</span>
<span class="pl-s2"></span>
<span class="pl-s2"><span class="pl-st">class</span> <span class="pl-en">AuthenticationTest</span> <span class="pl-s">extends</span> <span class="pl-e">AbstractTestCase</span></span>
<span class="pl-s2">{</span>
<span class="pl-s2">    <span class="pl-k">use</span> <span class="pl-s3">AuthenticationTrait</span>;</span>
<span class="pl-s2">}</span></pre></div>

<h4>
<a id="testing-forms" class="anchor" href="#testing-forms" aria-hidden="true"><span class="octicon octicon-link"></span></a>Testing forms</h4>

<div class="highlight highlight-php"><pre><span class="pl-s2"><span class="pl-k">use</span> <span class="pl-s3">PHPWebDriver_WebDriverBy</span> <span class="pl-k">as</span> <span class="pl-s3">By</span>;</span>
<span class="pl-s2"><span class="pl-k">use</span> <span class="pl-s3">WebinoDev\Test\Selenium\AbstractTestCase</span>;</span>
<span class="pl-s2"></span>
<span class="pl-s2"><span class="pl-st">class</span> <span class="pl-en">HomeTest</span> <span class="pl-s">extends</span> <span class="pl-e">AbstractTestCase</span></span>
<span class="pl-s2">{</span>
<span class="pl-s2">    <span class="pl-s">public</span> <span class="pl-st">function</span> <span class="pl-en">testHome</span>()</span>
<span class="pl-s2">    {</span>
<span class="pl-s2">        <span class="pl-vo">$this</span><span class="pl-k">-&gt;</span>enterInput(<span class="pl-s1"><span class="pl-pds">'</span>email<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>test@example.com<span class="pl-pds">'</span></span>, <span class="pl-st">function</span> (<span class="pl-vo">$elm</span>) {</span>
<span class="pl-s2">            <span class="pl-vo">$elm</span><span class="pl-k">-&gt;</span>submit();</span>
<span class="pl-s2">        });</span>
<span class="pl-s2"></span>
<span class="pl-s2">        <span class="pl-vo">$this</span><span class="pl-k">-&gt;</span>assertInput(<span class="pl-s1"><span class="pl-pds">'</span>email<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>test@example.com<span class="pl-pds">'</span></span>);</span>
<span class="pl-s2"></span>
<span class="pl-s2">        <span class="pl-vo">$this</span><span class="pl-k">-&gt;</span>waitFor(</span>
<span class="pl-s2">            <span class="pl-st">function</span> () {</span>
<span class="pl-s2">                <span class="pl-k">return</span> <span class="pl-vo">$this</span><span class="pl-k">-&gt;</span>elementByClassName(<span class="pl-s1"><span class="pl-pds">'</span>example-success<span class="pl-pds">'</span></span>);</span>
<span class="pl-s2">            },</span>
<span class="pl-s2">            <span class="pl-st">function</span> (<span class="pl-vo">$elm</span>) {</span>
<span class="pl-s2">                <span class="pl-vo">$this</span><span class="pl-k">-&gt;</span>assertSame(<span class="pl-s1"><span class="pl-pds">'</span>example<span class="pl-pds">'</span></span>, <span class="pl-vo">$elm</span><span class="pl-k">-&gt;</span>text());</span>
<span class="pl-s2">            }</span>
<span class="pl-s2">        );</span>
<span class="pl-s2">    }</span>
<span class="pl-s2">}</span></pre></div>

<h4>
<a id="testing-ajax" class="anchor" href="#testing-ajax" aria-hidden="true"><span class="octicon octicon-link"></span></a>Testing AJAX</h4>

<div class="highlight highlight-php"><pre><span class="pl-s2"><span class="pl-k">use</span> <span class="pl-s3">PHPWebDriver_WebDriverBy</span> <span class="pl-k">as</span> <span class="pl-s3">By</span>;</span>
<span class="pl-s2"><span class="pl-k">use</span> <span class="pl-s3">WebinoDev\Test\Selenium\AbstractTestCase</span>;</span>
<span class="pl-s2"></span>
<span class="pl-s2"><span class="pl-st">class</span> <span class="pl-en">HomeTest</span> <span class="pl-s">extends</span> <span class="pl-e">AbstractTestCase</span></span>
<span class="pl-s2">{</span>
<span class="pl-s2">    <span class="pl-s">public</span> <span class="pl-st">function</span> <span class="pl-en">testHome</span>()</span>
<span class="pl-s2">    {</span>
<span class="pl-s2">        <span class="pl-vo">$this</span><span class="pl-k">-&gt;</span>clickAjaxLink();</span>
<span class="pl-s2"></span>
<span class="pl-s2">        <span class="pl-c">// or</span></span>
<span class="pl-s2"></span>
<span class="pl-s2">        <span class="pl-vo">$this</span><span class="pl-k">-&gt;</span>elementByClassName(<span class="pl-s1"><span class="pl-pds">'</span>ajax-btn<span class="pl-pds">'</span></span>)<span class="pl-k">-&gt;</span>click();</span>
<span class="pl-s2"></span>
<span class="pl-s2">        <span class="pl-vo">$this</span><span class="pl-k">-&gt;</span>waitForAjax();</span>
<span class="pl-s2">        <span class="pl-c">// or with delay 2 seconds</span></span>
<span class="pl-s2">        <span class="pl-vo">$this</span><span class="pl-k">-&gt;</span>waitForAjax(<span class="pl-c1">2</span>);</span>
<span class="pl-s2"></span>
<span class="pl-s2">        <span class="pl-vo">$result</span> <span class="pl-k">=</span> <span class="pl-vo">$this</span><span class="pl-k">-&gt;</span>elementByClassName(<span class="pl-s1"><span class="pl-pds">'</span>ajax-result<span class="pl-pds">'</span></span>)<span class="pl-k">-&gt;</span>text();</span>
<span class="pl-s2">        <span class="pl-vo">$this</span><span class="pl-k">-&gt;</span>assertSame(<span class="pl-s1"><span class="pl-pds">'</span>expected ajax result<span class="pl-pds">'</span></span>, <span class="pl-vo">$result</span>);</span>
<span class="pl-s2">    }</span>
<span class="pl-s2">}</span>
<span class="pl-s2"></span></pre></div>

<h4>
<a id="testing-mail" class="anchor" href="#testing-mail" aria-hidden="true"><span class="octicon octicon-link"></span></a>Testing mail</h4>

<p>Supports functional and selenium mail testing.</p>

<h5>
<a id="functional-mail-testing" class="anchor" href="#functional-mail-testing" aria-hidden="true"><span class="octicon octicon-link"></span></a>Functional mail testing</h5>

<p>Assumed that mail messages are saved as files to the virtual filesystem <code>tmp/mail</code> directory.</p>

<p><em>NOTE: Use <code>org\bovigo\vfs\vfsStream::url('root/tmp/mail')</code> for virtual filesystem directory path.</em></p>

<div class="highlight highlight-php"><pre><span class="pl-s2"><span class="pl-k">use</span> <span class="pl-s3">WebinoDev\Test\Functional\AbstractMailTestCase</span>;</span>
<span class="pl-s2"></span>
<span class="pl-s2"><span class="pl-st">class</span> <span class="pl-en">MailTest</span> <span class="pl-s">extends</span> <span class="pl-e">AbstractMailTestCase</span></span>
<span class="pl-s2">{</span>
<span class="pl-s2">    <span class="pl-s">public</span> <span class="pl-st">function</span> <span class="pl-en">testMail</span>()</span>
<span class="pl-s2">    {</span>
<span class="pl-s2">        <span class="pl-c">// ...</span></span>
<span class="pl-s2"></span>
<span class="pl-s2">        <span class="pl-vo">$mail</span> <span class="pl-k">=</span> <span class="pl-vo">$this</span><span class="pl-k">-&gt;</span>readMail();</span>
<span class="pl-s2">        <span class="pl-vo">$this</span><span class="pl-k">-&gt;</span>assertNotNull(<span class="pl-vo">$mail</span>);</span>
<span class="pl-s2">        <span class="pl-vo">$this</span><span class="pl-k">-&gt;</span>assertSame(<span class="pl-vo">$expectedSubject</span>, <span class="pl-vo">$mail</span><span class="pl-k">-&gt;</span>getSubject());</span>
<span class="pl-s2">    }</span>
<span class="pl-s2">}</span></pre></div>

<p><strong>or use trait</strong></p>

<div class="highlight highlight-php"><pre><span class="pl-s2"><span class="pl-k">use</span> <span class="pl-s3">WebinoDev\Test\Functional\AbstractTestCase</span>;</span>
<span class="pl-s2"><span class="pl-k">use</span> <span class="pl-s3">WebinoDev\Test\Functional\MailTrait</span>;</span>
<span class="pl-s2"></span>
<span class="pl-s2"><span class="pl-st">class</span> <span class="pl-en">MailTest</span> <span class="pl-s">extends</span> <span class="pl-e">AbstractTestCase</span></span>
<span class="pl-s2">{</span>
<span class="pl-s2">    <span class="pl-k">use</span> <span class="pl-s3">MailTrait</span>;</span>
<span class="pl-s2"></span>
<span class="pl-s2">    <span class="pl-c">/**</span></span>
<span class="pl-s2"><span class="pl-c">     * {@inheritDoc}</span></span>
<span class="pl-s2"><span class="pl-c">     */</span></span>
<span class="pl-s2">    <span class="pl-s">protected</span> <span class="pl-st">function</span> <span class="pl-en">setUp</span>()</span>
<span class="pl-s2">    {</span>
<span class="pl-s2">        <span class="pl-vo">$this</span><span class="pl-k">-&gt;</span>setUpMailVfs();</span>
<span class="pl-s2">    }</span>
<span class="pl-s2">}</span></pre></div>

<h5>
<a id="testing-mail-with-selenium" class="anchor" href="#testing-mail-with-selenium" aria-hidden="true"><span class="octicon octicon-link"></span></a>Testing mail with Selenium</h5>

<p>Assumed that mail messages are saved as files to the <code>tmp/mail</code> directory, relative to the application.</p>

<div class="highlight highlight-php"><pre><span class="pl-s2"><span class="pl-k">use</span> <span class="pl-s3">WebinoDev\Test\Selenium\AbstractMailTestCase</span>;</span>
<span class="pl-s2"></span>
<span class="pl-s2"><span class="pl-st">class</span> <span class="pl-en">MailTest</span> <span class="pl-s">extends</span> <span class="pl-e">AbstractMailTestCase</span></span>
<span class="pl-s2">{</span>
<span class="pl-s2">    <span class="pl-s">public</span> <span class="pl-st">function</span> <span class="pl-en">testMail</span>()</span>
<span class="pl-s2">    {</span>
<span class="pl-s2">        <span class="pl-c">// ...</span></span>
<span class="pl-s2"></span>
<span class="pl-s2">        <span class="pl-vo">$mail</span> <span class="pl-k">=</span> <span class="pl-vo">$this</span><span class="pl-k">-&gt;</span>readMail();</span>
<span class="pl-s2">        <span class="pl-vo">$this</span><span class="pl-k">-&gt;</span>assertNotNull(<span class="pl-vo">$mail</span>);</span>
<span class="pl-s2">        <span class="pl-vo">$this</span><span class="pl-k">-&gt;</span>assertSame(<span class="pl-vo">$expectedSubject</span>, <span class="pl-vo">$mail</span><span class="pl-k">-&gt;</span>getSubject());</span>
<span class="pl-s2">    }</span>
<span class="pl-s2">}</span></pre></div>

<p><strong>or use trait</strong></p>

<div class="highlight highlight-php"><pre><span class="pl-s2"><span class="pl-k">use</span> <span class="pl-s3">WebinoDev\Test\Selenium\AbstractTestCase</span>;</span>
<span class="pl-s2"><span class="pl-k">use</span> <span class="pl-s3">WebinoDev\Test\Selenium\MailTrait</span>;</span>
<span class="pl-s2"></span>
<span class="pl-s2"><span class="pl-st">class</span> <span class="pl-en">MailTest</span> <span class="pl-s">extends</span> <span class="pl-e">AbstractTestCase</span></span>
<span class="pl-s2">{</span>
<span class="pl-s2">    <span class="pl-k">use</span> <span class="pl-s3">MailTrait</span>;</span>
<span class="pl-s2"></span>
<span class="pl-s2">    <span class="pl-c">/**</span></span>
<span class="pl-s2"><span class="pl-c">     * {@inheritDoc}</span></span>
<span class="pl-s2"><span class="pl-c">     */</span></span>
<span class="pl-s2">    <span class="pl-s">protected</span> <span class="pl-st">function</span> <span class="pl-en">setUp</span>()</span>
<span class="pl-s2">    {</span>
<span class="pl-s2">        <span class="pl-st">parent</span><span class="pl-k">::</span>setUp();</span>
<span class="pl-s2">        <span class="pl-vo">$this</span><span class="pl-k">-&gt;</span>setUpMailDir();</span>
<span class="pl-s2">    }</span>
<span class="pl-s2"></span>
<span class="pl-s2">    <span class="pl-c">/**</span></span>
<span class="pl-s2"><span class="pl-c">     * {@inheritDoc}</span></span>
<span class="pl-s2"><span class="pl-c">     */</span></span>
<span class="pl-s2">    <span class="pl-s">protected</span> <span class="pl-st">function</span> <span class="pl-en">tearDown</span>()</span>
<span class="pl-s2">    {</span>
<span class="pl-s2">        <span class="pl-st">parent</span><span class="pl-k">::</span>tearDown();</span>
<span class="pl-s2">        <span class="pl-vo">$this</span><span class="pl-k">-&gt;</span>tearDownMailDir();</span>
<span class="pl-s2">    }</span>
<span class="pl-s2">}</span></pre></div>

<h4>
<a id="testing-abstract-selenium-tests" class="anchor" href="#testing-abstract-selenium-tests" aria-hidden="true"><span class="octicon octicon-link"></span></a>Testing abstract selenium tests</h4>

<div class="highlight highlight-php"><pre><span class="pl-s2"><span class="pl-k">use</span> <span class="pl-s3">WebinoDev\Test\Functional\SeleniumTestTrait</span>;</span>
<span class="pl-s2"></span>
<span class="pl-s2"><span class="pl-st">class</span> <span class="pl-en">AbstractSeleniumTestCaseTest</span> <span class="pl-s">extends</span> <span class="pl-s3">\</span><span class="pl-e">PHPUnit_Framework_TestCase</span></span>
<span class="pl-s2">{</span>
<span class="pl-s2">    <span class="pl-k">use</span> <span class="pl-s3">SeleniumTestTrait</span>;</span>
<span class="pl-s2"></span>
<span class="pl-s2">    <span class="pl-s">protected</span> <span class="pl-vo">$object</span>;</span>
<span class="pl-s2"></span>
<span class="pl-s2">    <span class="pl-s">protected</span> <span class="pl-st">function</span> <span class="pl-en">setUp</span>()</span>
<span class="pl-s2">    {</span>
<span class="pl-s2">        <span class="pl-vo">$this</span><span class="pl-k">-&gt;</span>setUpWebDriver();</span>
<span class="pl-s2">        <span class="pl-vo">$this</span><span class="pl-k">-&gt;</span><span class="pl-vo">object</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-s3">SeleniumTestCase</span>;</span>
<span class="pl-s2">        <span class="pl-vo">$this</span><span class="pl-k">-&gt;</span><span class="pl-vo">object</span><span class="pl-k">-&gt;</span><span class="pl-vo">session</span> <span class="pl-k">=</span> <span class="pl-vo">$this</span><span class="pl-k">-&gt;</span>getWebDriverSession();</span>
<span class="pl-s2">    }</span></pre></div>

<h2>
<a id="development" class="anchor" href="#development" aria-hidden="true"><span class="octicon octicon-link"></span></a>Development</h2>

<p>We will appreciate any contributions on development of this module.</p>

<p>Learn <a href="https://github.com/webino/Webino/wiki/How-to-develop-Webino-modules">How to develop Webino modules</a></p>

<h2>
<a id="addendum" class="anchor" href="#addendum" aria-hidden="true"><span class="octicon octicon-link"></span></a>Addendum</h2>

<p>Please, if you are interested in this Zend Framework module report any issues and don't hesitate to contribute.</p>
      </section>
    </div>
    <footer>
      <p>Project maintained by <a href="https://github.com/webino">webino</a></p>
      <p>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></p>
    </footer>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>